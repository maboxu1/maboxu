<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<script>
//----------------------ajax---------------------------

// 1、什么是ajax:是前后端数据交互的重要手(需要在服务器环境下运行);
//	a:异步、 j:javascript、 a:and、 x:XML;

// 2、ajax的传送方式:
//	(1)POST:
//		a、发送数据大小没有限制;可以发送大文件=>1G;
//		b、接收数据,使用相对复杂(复杂在请求头),性能相对GET较差;
//		c、相对GET而言安全性较高;
//	(2)GET:
//		a、发送数据大小限制在2k左右;
//		b、使用相对简单,性能较好;
//		c、安全性较低;

// 3、ajax中的 ajax.open()中的url为路径(接口);

// 4、ajax中的 ajax.send()为发送,不能漏写;

// 5、ajax中的 ajax.onreadystatechange = function(){}中
//当ajax的状态码发生改变时才会触发该事件;

// 6、ajax状态码:
//	(1) 0:(未初始化)还没有调用send()方法;
//	(2) 1:(载入)已调用send()方法,正在发送请求
//	(3)	2:(载入完成)send()方法执行完成,已收到全部响应内容;
//	(4) 3:(交互)正在解析响应内容
//	(5)	4:(完成)响应内容解析完成,可以在用户端调用;

// 7、Http状态码:
//	(1)	1:请求收到继续处理;
//	(2) 2:操作成功收到,分析,处理;
//	(3)	3:完成此请求必须进一步处理;
//	(4)	4:请求包含一个错误语法或不能完成;
//	(5) 5:服务器执行一个完全有效请求失败;

// 8、封装ajax:
//	(1)GET方法:
	function ajaxGet(url,fn,data){
		if(data){
			url = url + "?" + data;
		}
		var ajax = new XMLHttpRequest();
		ajax.open("GET",url,true);
		ajax.send(null);
		ajax.onreadystatechange = function(){
			if(ajax.readyState == 4 && ajax.status == 200){
				fn(ajax.responseText);
			}
		}
	}

//	(2)POST方法:
	function ajaxPost(url,fn,data){
		var ajax = new XMLHttpRequest();
		ajax.open("POST",url,true);
		ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
		ajax.send(data);
		ajax.onreadystatechange = function(){
			if(ajax.readyState == 4 && ajax.status == 200){
				fn(ajax.responseText);
			}
		}
	}
</script>
</body>
</html>